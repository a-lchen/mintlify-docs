---
title: 可重用代码片段
description: 可重用的自定义代码片段，以保持内容同步
icon: recycle
---

import SnippetIntro from '/snippets/snippet-intro.mdx';

<SnippetIntro />

## 创建自定义代码片段

**前提条件**：你必须在`snippets`目录。

<Note>
  任何页面中的`snippets`目录将被视作一个片段，不会被渲染为一个独立页面。如果您想从该片段创建一个独立页面，请将该片段导入另一个文件并作为组件调用它。
</Note>

### 默认导出

1. 在您的片段文件中添加您希望在多个位置重复使用的内容。 可选地，您可以添加变量，这些变量可以在导入片段时通过 props 填充。

```mdx snippets/my-snippet.mdx
Hello world! This is my content I want to reuse across pages. My keyword of the
day is {word}.
```

<Warning>
  您想要重复使用的内容必须在`snippets` 目录中才能使导入生效。
</Warning>

2. 将代码片段导入到目标文件中。

```mdx destination-file.mdx
---
title: My title
description: My Description
---

import MySnippet from '/snippets/path/to/my-snippet.mdx';

## Header

Lorem impsum dolor sit amet.

<MySnippet word="bananas" />
```

### 可重用变量

1. 从您的代码片段文件导出一个变量：

```mdx snippets/path/to/custom-variables.mdx
export const myName = 'my name';

export const myObject = { fruit: 'strawberries' };
```

2. 从目标文件中导入代码片段并使用变量：

```mdx destination-file.mdx
---
title: My title
description: My Description
---

import { myName, myObject } from '/snippets/path/to/custom-variables.mdx';

Hello, my name is {myName} and I like {myObject.fruit}.
```

### 可重用组件

1. 在你的片段文件中，创建一个组件，该组件通过以箭头函数的形式导出你的组件来接收属性。

```mdx snippets/custom-component.mdx
export const MyComponent = ({ title }) => (
  <div>
    <h1>{title}</h1>
    <p>... snippet content ...</p>
  </div>
);
```

<Warning>
  MDX 在箭头函数的主体内部不能编译。尽量使用 HTML 语法，或者如果需要使用 MDX，请使用默认导出。
</Warning>

2. 导入代码片段到目标文件并传递属性

```mdx destination-file.mdx
---
title: My title
description: My Description
---

import { MyComponent } from '/snippets/custom-component.mdx';

Lorem ipsum dolor sit amet.

<MyComponent title={'Custom title'} />
```
